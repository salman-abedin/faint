#!/bin/sh

#===============================================================================
#                             Default Settings
#===============================================================================

SHOW_HIDDEN=1
USE_FILTERS=1
MAX_DEPTH=1

#===============================================================================
# Bindings ( â‰ has to be a single character!) [ More on fzf man page ]
#===============================================================================

KEY_LAUNCH=';'
KEY_BACK=','
KEY_OPERATE='space'
KEY_QUIT='esc'

KEY_SHELL='enter'

KEY_UP='btab'
KEY_DOWN='tab'

KEY_MARK_DOWN=']'
KEY_MARK_UP='['
KEY_MARK_ALL='\\'

KEY_BOOKMARK_BROWSE="'"
KEY_BOOKMARK_ADD='\"'

KEY_TOGGLE_HIDDEN=">"
KEY_TOGGLE_FILTERS='.'

KEY_REFRESH="<"

KEY_DEPTH_PLUS="="
KEY_DEPTH_MINUS="-"
KEY_DEPTH_RESET="_"

#===============================================================================
#                             Filters
#===============================================================================

FILTERS="\
node_modules;
package-lock.json;
yarn.lock;
.git;
package.json;
tsconfig.json;
build;
"

#===============================================================================
#                             Operations
#===============================================================================

delete() { echo "$FILE_ARGS" | while read -r file; do rm -fr "$file"; done; }
trash() { echo "$FILE_ARGS" | while read -r file; do mv "$file" "$TRASH"; done; }
paste() {
   echo "$FILE_LIST" |
      while read -r file; do
         cp -br "$file" "$LAST_DIR"
      done
}
move() {
   echo "$FILE_LIST" |
      while read -r file; do
         mv "$file" "$LAST_DIR"
      done
}
link_soft() {
   echo "$FILE_LIST" |
      while read -r file; do
         cp -frs "$file" "$LAST_DIR"
      done
}
link_hard() {
   echo "$FILE_LIST" |
      while read -r file; do
         cp -frl "$file" "$LAST_DIR"
      done
}
own() {
   echo "$FILE_ARGS" |
      while read -r file; do
         sudo -n chown -R "$USER" "$file"
      done
}
tmux_pane() {
   tmux split-window -h "launch -f $FILE_ARGS" \; \
      swap-pane -d -t :.1 \; \
      select-layout main-vertical
}
yank() {
   echo "$FILE_ARGS" | xsel -b
   echo "$FILE_ARGS" > "$FILE_LIST_PATH"
}
rename_bulk() {
   kill -37 "$FAINT_PID"
   pkill -P "$FAINT_PID"
}

OPS="\
ğŸ’» Tmux:tmux_pane;
âš”  Trash:trash;
âŒ Delete:delete;
Â©  Yank:yank;
ğŸ–Œ  Paste:paste;
ğŸšš Move:move;
ğŸ—  Soft Link:link_soft;
ğŸŒ´ Hard Link:link_hard;
ğŸ˜ Own:own;
ğŸ·  Rename Bulk:rename_bulk;
"

#===============================================================================
#                               Icons
#===============================================================================

ICONS="\
dir:ğŸ“;
file:ğŸ“ƒ;
link:â›“;
iso|img:ğŸ“€;
png|ico:ğŸ–¼;
jpg|jpeg:ğŸ“¸;
part:ğŸ’”;
json:ğŸ“’;
md:ğŸ“˜;
tex:ğŸ“œ;
css|sass|scss:ğŸ¨;
html|pug|url:ğŸŒ;
pdf|epub:ğŸ“š;
mp4|mkv:ğŸ¥;
"
